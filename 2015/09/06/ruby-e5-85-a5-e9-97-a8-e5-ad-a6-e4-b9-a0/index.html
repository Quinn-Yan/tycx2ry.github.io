<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png?v=5.1.4">


  <link rel="mask-icon" href="/images/safari-pinned-tab.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Blog,L.N.,渗透测试,APT,代码审计,程序开发,网络安全,信息安全" />










<meta name="description" content="1.BEGIN/END 语法1.  &amp;lt;span class=&amp;quot;com&amp;quot;&amp;gt;#!/usr/bin/ruby&amp;lt;/span&amp;gt;2.3.  &amp;lt;span class=&amp;quot;pln&amp;quot;&amp;gt;puts &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;str&amp;quot;&amp;gt;&amp;quot;This is main Ruby Prog">
<meta property="og:type" content="article">
<meta property="og:title" content="ruby入门学习">
<meta property="og:url" content="https://tycx2ry.github.io/2015/09/06/ruby-e5-85-a5-e9-97-a8-e5-ad-a6-e4-b9-a0/index.html">
<meta property="og:site_name" content="卫星2队">
<meta property="og:description" content="1.BEGIN/END 语法1.  &amp;lt;span class=&amp;quot;com&amp;quot;&amp;gt;#!/usr/bin/ruby&amp;lt;/span&amp;gt;2.3.  &amp;lt;span class=&amp;quot;pln&amp;quot;&amp;gt;puts &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;str&amp;quot;&amp;gt;&amp;quot;This is main Ruby Prog">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2018-02-26T05:36:35.272Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="ruby入门学习">
<meta name="twitter:description" content="1.BEGIN/END 语法1.  &amp;lt;span class=&amp;quot;com&amp;quot;&amp;gt;#!/usr/bin/ruby&amp;lt;/span&amp;gt;2.3.  &amp;lt;span class=&amp;quot;pln&amp;quot;&amp;gt;puts &amp;lt;/span&amp;gt;&amp;lt;span class=&amp;quot;str&amp;quot;&amp;gt;&amp;quot;This is main Ruby Prog">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"always","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://tycx2ry.github.io/2015/09/06/ruby-e5-85-a5-e9-97-a8-e5-ad-a6-e4-b9-a0/"/>





  <title>ruby入门学习 | 卫星2队</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">卫星2队</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description">心如花木，向阳而生</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://tycx2ry.github.io/2015/09/06/ruby-e5-85-a5-e9-97-a8-e5-ad-a6-e4-b9-a0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="L.N.">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar_1.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="卫星2队">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">ruby入门学习</h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2015-09-06T19:31:21+08:00">
                2015-09-06
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">更新于&#58;</span>
              
              <time title="更新于" itemprop="dateModified" datetime="2018-02-26T13:36:35+08:00">
                2018-02-26
              </time>
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/读书笔记/" itemprop="url" rel="index">
                    <span itemprop="name">读书笔记</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="1-BEGIN-END-语法"><a href="#1-BEGIN-END-语法" class="headerlink" title="1.BEGIN/END 语法"></a>1.BEGIN/END 语法</h3><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.3.  <code>&lt;span class=&quot;pln&quot;&gt;puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;This is main Ruby Program&quot;&lt;/span&gt;</code><br>4.5.  <code>&lt;span class=&quot;pln&quot;&gt;END &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;{&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp; &amp;nbsp;puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Terminating Ruby Program&quot;&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pun&quot;&gt;}&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;pln&quot;&gt;BEGIN &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;{&lt;/span&gt;</code><br>9.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp; &amp;nbsp;puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Initializing Ruby Program&quot;&lt;/span&gt;</code><br>10.  <code>&lt;span class=&quot;pun&quot;&gt;}&lt;/span&gt;</code></pre></div></div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;typ&quot;&gt;Initializing&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Ruby&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Program&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;typ&quot;&gt;This&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; is main &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Ruby&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Program&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;typ&quot;&gt;Terminating&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Ruby&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Program&lt;/span&gt;</code></pre></div></div>

<h3 id="2-注释语法"><a href="#2-注释语法" class="headerlink" title="2.注释语法"></a>2.注释语法</h3><div>单行注释： #</div><div>多行注释：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;begin&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;typ&quot;&gt;This&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; is a comment&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;typ&quot;&gt;This&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; is a comment&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; too&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;typ&quot;&gt;This&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; is a comment&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; too&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;I said that already&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div></div>

<h3 id="3-变量"><a href="#3-变量" class="headerlink" title="3.变量"></a>3.变量</h3><div>局部变量 wenxiao</div><div>实例变量 @wenxiao</div><div>类变量 @@wenxiao</div><div>全局变量 $wenxiao</div>

<h3 id="4-类"><a href="#4-类" class="headerlink" title="4.类"></a>4.类</h3><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;kwd&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Sample&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;typ&quot;&gt;   @@wenxiao_a&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp; &amp;nbsp;def&amp;nbsp;initialize()&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;        @wenxiao_b&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp; &amp;nbsp;&amp;nbsp;&amp;nbsp; &amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;hello init&quot;&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp; &amp;nbsp;end&lt;/span&gt;</code><br>9.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; def hello()&lt;/span&gt;</code><br>10.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Hello Ruby!&quot;&lt;/span&gt;</code><br>11.  <code>&lt;span class=&quot;str&quot;&gt;      puts &quot;bc#@wenxiao_b&quot;  &lt;/span&gt;</code><br>12.  <code>&lt;span class=&quot;str&quot;&gt;      puts &quot;#@@wenxiao_a&quot;&lt;/span&gt;</code><br>13.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; end&lt;/span&gt;</code><br>14.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code><br>15.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>16.  <code>&lt;span class=&quot;com&quot;&gt;# Now using above class to create objects&lt;/span&gt;</code><br>17.  <code>&lt;span class=&quot;pln&quot;&gt;object &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Sample&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;new&lt;/span&gt;</code><br>18.  <code>&lt;span class=&quot;pln&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;hello&lt;/span&gt;</code></pre></div>

<h3 id="5-数组"><a href="#5-数组" class="headerlink" title="5.数组"></a>5.数组</h3><p></p></div><div>例子1:</div><div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>
<ol>
<li><code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;ary &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;fred&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;3.14&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;This is a string&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;last element&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;]&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;ary&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;each &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;|&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts i&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></p></li></ol></pre></div></div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;pln&quot;&gt;fred&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;lit&quot;&gt;10&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;lit&quot;&gt;3.14&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;typ&quot;&gt;This&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; is a string&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;last element&lt;/span&gt;</code></p></li></pre></div></div></div>例子2:<div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;hsh &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; colors &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0xf00&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;green&quot;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0x0f0&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0x00f&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;}&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;hsh&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;each &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; value&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;|&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; print key&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot; is &quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; value&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;\n&quot;&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></p></li></pre></div></div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;pln&quot;&gt;green is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;240&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;pln&quot;&gt;red is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;3840&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;blue is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;15&lt;/span&gt;</code></p></li></pre></div><div>迭代器</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;pln&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;):&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code></p>
</li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;):&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;4&lt;/span&gt;</code></p></li></pre></div><div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;10.&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;each &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; print n&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&#39; &#39;&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></p></li></pre></div></div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;lit&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;15&lt;/span&gt;</code></p></li></pre></div><div><br></div></div></div></div></div></div><p></p>


<h3 id="6-defined-操作符"><a href="#6-defined-操作符" class="headerlink" title="6.defined?操作符"></a>6.defined?操作符</h3><div><div>defined? 是一个特殊的操作符采取的形式的方法调用，以确定是否通过表达式定义。</div><div>如果没有被定义的表达式，它返回一个描述字符串求解出的表达式或nil</div><div>&nbsp;</div><div>有很多种用法 defined? 操作符:&nbsp;</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pun&quot;&gt;用法&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;defined&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; variable &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# True if variable is initialized&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pun&quot;&gt;例如&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;:&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;foo &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;42&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;defined&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; foo&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# =&amp;gt; &quot;local-variable&quot;&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;defined&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; $_&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# =&amp;gt; &quot;global-variable&quot;&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;pln&quot;&gt;defined&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; bar&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# =&amp;gt; nil (undefined)&lt;/span&gt;</code><br>9.  <code>&lt;span class=&quot;pun&quot;&gt;用法&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code><br>10.  <code>&lt;span class=&quot;pln&quot;&gt;defined&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; method_call &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# True if a method is defined&lt;/span&gt;</code><br>11.  <code>&lt;span class=&quot;pun&quot;&gt;例如&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;:&lt;/span&gt;</code><br>12.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>13.  <code>&lt;span class=&quot;pln&quot;&gt;defined&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; puts&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# =&amp;gt; &quot;method&quot;&lt;/span&gt;</code><br>14.  <code>&lt;span class=&quot;pln&quot;&gt;defined&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; puts&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# =&amp;gt; nil (bar is not defined here)&lt;/span&gt;</code><br>15.  <code>&lt;span class=&quot;pln&quot;&gt;defined&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; unpack&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# =&amp;gt; nil (not defined here)&lt;/span&gt;</code><br>16.  <code>&lt;span class=&quot;pun&quot;&gt;用法&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;3&lt;/span&gt;</code><br>17.  <code>&lt;span class=&quot;com&quot;&gt;# True if a method exists that can be called with super user&lt;/span&gt;</code><br>18.  <code>&lt;span class=&quot;pln&quot;&gt;defined&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; super&lt;/span&gt;</code><br>19.  <code>&lt;span class=&quot;pun&quot;&gt;例如&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;:&lt;/span&gt;</code><br>20.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>21.  <code>&lt;span class=&quot;pln&quot;&gt;defined&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; super&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# =&amp;gt; &quot;super&quot; (if it can be called)&lt;/span&gt;</code><br>22.  <code>&lt;span class=&quot;pln&quot;&gt;defined&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; super&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# =&amp;gt; nil (if it cannot be)&lt;/span&gt;</code><br>23.  <code>&lt;span class=&quot;pun&quot;&gt;用法&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;4&lt;/span&gt;</code><br>24.  <code>&lt;span class=&quot;pln&quot;&gt;defined&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; yield&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# True if a code block has been passed&lt;/span&gt;</code><br>25.  <code>&lt;span class=&quot;pun&quot;&gt;例如&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;:&lt;/span&gt;</code><br>26.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>27.  <code>&lt;span class=&quot;pln&quot;&gt;defined&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; yield&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# =&amp;gt; &quot;yield&quot; (if there is a block passed)&lt;/span&gt;</code><br>28.  <code>&lt;span class=&quot;pln&quot;&gt;defined&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; yield&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# =&amp;gt; nil (if there is no block)&lt;/span&gt;</code></pre></div><div><br></div></div></div>

<h3 id="7-逻辑结构"><a href="#7-逻辑结构" class="headerlink" title="7.逻辑结构"></a>7.逻辑结构</h3><div><strong>if…else 语句：</strong></div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;kwd&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; x &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;x is greater than 2&quot;&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;elsif x &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;&amp;lt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; and x&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;!=&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;x is 1&quot;&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;kwd&quot;&gt;else&lt;/span&gt;</code><br>9.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;I can&#39;t guess the number&quot;&lt;/span&gt;</code><br>10.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code><br>11.  <code>&lt;span class=&quot;pln&quot;&gt;x is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code></pre></div><div><strong>单if：</strong></div></div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;code &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; condition&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;kwd&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;条件为真执行代码。&lt;/span&gt;</code></pre></div><div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;$debug&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;print &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;debug\n&quot;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; $debug&lt;/span&gt;</code></pre></div></div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;debug&lt;/span&gt;</code></pre></div><div><strong>unless else：</strong></div></div></div></div><div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;unless conditional &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;]&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; code&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pun&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;else&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; code &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;]&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div></div><div>如果条件为false，执行代码。如果条件是true，else子句中指定的代码被执行。</div><div>例如：</div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;unless x&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;x is less than 2&quot;&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;kwd&quot;&gt;else&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;x is greater than 2&quot;&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;x is less than &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code></pre></div><div><strong>单unless：</strong></div></div></div><div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;code unless conditional&lt;/span&gt;</code></pre></div></div><div>执行代码，如果有条件的话为false。</div><div>实例:</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;$var &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;print &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;1 -- Value is set\n&quot;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; $var&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;print &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;2 -- Value is set\n&quot;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; unless $var&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;$var &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;false&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;pln&quot;&gt;print &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;3 -- Value is set\n&quot;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; unless $var&lt;/span&gt;</code></pre></div></div><div>这将产生以下结果：<span style="color: rgb(72, 72, 76); font-family: Consolas, 'Liberation Mono', Menlo, Courier, monospace; line-height: 18px; font-size: 13px;">&nbsp;</span></div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; is &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;set&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;lit&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; is &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;set&lt;/span&gt;</code></pre></div><div><strong>case：</strong></div></div></div><div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;kwd&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; expression&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pun&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;when expression &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; expression &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;...]&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;]&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; code &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;]...&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pun&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;else&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; code &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;]&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div></div><div>比较表达式指定的情况下，使用===运算符时，按指定的条款相匹配时执行的代码。</div><div>子句计算 when 与左操作数指定的表达式。如果没有子句匹配时，情况下执行的代码else子句。</div><div>when 语句的表达保留字，那么，一个换行符或分号分开代码。</div><div>那么:</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;kwd&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; expr0&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;when expr1&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; expr2&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; stmt1&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;when expr3&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; expr4&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; stmt2&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;kwd&quot;&gt;else&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; stmt3&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div></div><div>基本上类似于以下内容：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;_tmp &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; expr0&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;kwd&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; expr1 &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;===&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; _tmp &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; expr2 &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;===&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; _tmp&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; stmt1&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;elsif expr3 &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;===&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; _tmp &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; expr4 &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;===&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; _tmp&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; stmt2&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;kwd&quot;&gt;else&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; stmt3&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div><div>例子：</div></div></div><div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;$age &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;kwd&quot;&gt;case&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; $age&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;when &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;baby&quot;&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;when &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;6&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;little child&quot;&lt;/span&gt;</code><br>9.  <code>&lt;span class=&quot;pln&quot;&gt;when &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;12&lt;/span&gt;</code><br>10.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;child&quot;&lt;/span&gt;</code><br>11.  <code>&lt;span class=&quot;pln&quot;&gt;when &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;..&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;18&lt;/span&gt;</code><br>12.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;youth&quot;&lt;/span&gt;</code><br>13.  <code>&lt;span class=&quot;kwd&quot;&gt;else&lt;/span&gt;</code><br>14.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;adult&quot;&lt;/span&gt;</code><br>15.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div></div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;little child&lt;/span&gt;</code></pre></div><div><strong>while：</strong></div></div></div><div>语法1:</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;kwd&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; conditional &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;]&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; code&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;$i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;$num &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;kwd&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; $i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; $num&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;do&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Inside the loop i = #$i&quot;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; $i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>9.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div><div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;3&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;4&lt;/span&gt;</code></pre></div><div>语法2:</div></div></div></div></div><div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;code &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; condition&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;OR&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;begin&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp; code&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;end &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; conditional&lt;/span&gt;</code></pre></div></div><div>执行代码，当条件为true。</div><div>如果while 修饰符紧跟一个begin 语句但是没有 rescue 或 ensure 子句, 代码被执行前一次条件求值。</div></div><div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;$i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;$num &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;begin&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Inside the loop i = #$i&quot;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; $i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;pln&quot;&gt;end &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; $i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; $num&lt;/span&gt;</code></pre></div></div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;3&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;4&lt;/span&gt;</code></pre></div><div><strong>untile:</strong></div></div></div><div>语法1:</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;until conditional &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;]&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; code&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div><div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;$i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;$num &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;until $i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; $num&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;do&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Inside the loop i = #$i&quot;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; $i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;;&lt;/span&gt;</code><br>9.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div></div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;3&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;4&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code></pre></div><div>语法2：</div></div></div></div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;code until conditional&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;OR&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;begin&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; code&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;end until conditional&lt;/span&gt;</code></pre></div><div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;$i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;$num &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;begin&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Inside the loop i = #$i&quot;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; $i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;+=&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;;&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;pln&quot;&gt;end until $i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; $num&lt;/span&gt;</code></pre></div></div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;3&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;4&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;typ&quot;&gt;Inside&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; the loop i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code></pre></div><div><strong>for语句</strong>：</div></div></div></div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;kwd&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; variable &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; variable &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;...]&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; in expression &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;]&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; code&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div><div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;kwd&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; i in &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0.&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Value of local variable is #{i}&quot;&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div></div><div>这里我们定义的范围 0 .. 5 。因为在语句 for i in 0..5 将允许取值的范围从0到5（含5），这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;3&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;4&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code></pre></div></div><div> for…in 循环几乎是完全等同于：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;expression&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;each &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;variable&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; variable&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;...]|&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; code end&lt;/span&gt;</code></pre></div></div><div>除了一个for循环不创建一个新的局部变量的范围。一个循环的表情从代码分离，保留字，一个换行符，或分号。</div><div>例子:</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0.&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;each &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;do&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;|&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Value of local variable is #{i}&quot;&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div></div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;0&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;3&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;4&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code></pre></div><div>关键字：</div></div></div></div><div>break：跳出循环</div><div>next：进去下一次循环</div><div>redo：重新循环此次迭代（不检查此次循环条件）</div><div><br></div><div><strong>retry语句</strong>：</div><div><div>如果 retry 表达出现在 rescue 子句，则从开始重新开始。</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;begin&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; do_something &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# exception raised&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;rescue&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# handles error&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; retry&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# restart from beginning&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div></div><div>如果出现重试迭代，块，或体内的表达，重新启动迭代调用。迭代器的参数条件将重新计算。</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;kwd&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; i in &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; retry &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; some_condition &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;# restart from i == 1&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div><div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;kwd&quot;&gt;for&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; i in &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1.&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; retry &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp; i &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Value of local variable is #{i}&quot;&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></pre></div></div><div>这将产生以下结果，将进入无限循环：&nbsp;</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;typ&quot;&gt;Value&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; of local variable is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pun&quot;&gt;............................&lt;/span&gt;</code></pre></div>

<h3 id="8-函数"><a href="#8-函数" class="headerlink" title="8.函数"></a>8.函数</h3><p></p></div></div></div></div><div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>
<ol>
<li><code>&lt;span class=&quot;pln&quot;&gt;def method_name &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;arg &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;]]...[,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;&amp;#42&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; arg &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;expr &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;]])]&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; expr&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;..&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></p></li></ol></pre></div></div><div>所以，可以定义一个简单的方法如下：</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;pln&quot;&gt;def method_name &lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; expr&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;..&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></p></li></pre></div></div><div>可以表示方法，接受这样的参数：</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;pln&quot;&gt;def method_name &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;var1&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; var2&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; expr&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;..&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></p></li></pre></div></div><div>可以设置默认值，如果不传递所需的参数调用方法的参数将用于：</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;pln&quot;&gt;def method_name &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;var1&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;value1&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; var2&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;value2&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; expr&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;..&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></p></li></pre></div></div><div>无论何时调用方法很简单，只需写方法的名称如下：</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;pln&quot;&gt;method_name&lt;/span&gt;</code></p></li></pre></div></div><div>然而，当调用一个方法带有参数，编写方法的名称以及参数，如：</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;pln&quot;&gt;method_name &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;30&lt;/span&gt;</code></p></li></pre></div></div><div>使用带参数的方法的最重要缺陷是，每当调用这些方法需要记住的参数个数。</div><div>例如，如果一个方法接受三个参数传递只有两个，那么Ruby的将显示一条错误。</div></div><div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;def test&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;a1&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Ruby&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; a2&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Perl&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;The programming language is #{a1}&quot;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;The programming language is #{a2}&quot;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;test &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;C&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;C++&quot;&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;test&lt;/span&gt;</code></p></li></pre></div></div><div>这将产生以下结果：&nbsp;</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;typ&quot;&gt;The&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; programming language is C&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;typ&quot;&gt;The&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; programming language is C&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;++&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;typ&quot;&gt;The&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; programming language is &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Ruby&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;typ&quot;&gt;The&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; programming language is &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Perl&lt;/span&gt;</code></p></li></pre></div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;kwd&quot;&gt;return&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;OR&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;kwd&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;12&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;OR&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;kwd&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;3&lt;/span&gt;</code></li></pre></div></div></div></div>

<h3 id="9-块"><a href="#9-块" class="headerlink" title="9.块"></a>9.块</h3><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;block_name&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;{&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; statement1&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; statement2&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;..........&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pun&quot;&gt;}&lt;/span&gt;</code></pre></div><div><div><strong>yield 语句:</strong></div><div>让我们来看看在yield语句的一个例子：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;def test&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;You are in the method&quot;&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; yield&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;You are again back to the method&quot;&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; yield&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code><br>9.  <code>&lt;span class=&quot;pln&quot;&gt;test &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;You are in the block&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;}&lt;/span&gt;</code></pre></div></div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;typ&quot;&gt;You&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; are in the method&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;typ&quot;&gt;You&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; are in the block&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;typ&quot;&gt;You&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; are again back to the method&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;typ&quot;&gt;You&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; are in the block&lt;/span&gt;</code></pre></div></div><div>也可以通过参数与屈服声明。下面是一个例子：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;def test&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; yield &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;You are in the method test&quot;&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; yield &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;100&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;pln&quot;&gt;test &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;{|&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;You are in the block #{i}&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;}&lt;/span&gt;</code></pre></div></div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;typ&quot;&gt;You&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; are in the block &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;typ&quot;&gt;You&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; are in the method test&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;typ&quot;&gt;You&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; are in the block &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;100&lt;/span&gt;</code></pre></div></div><div>这里的 yield 语句写到后面跟着参数。甚至可以传递多个参数。在该块中放置在两条垂直线之间的变量（| |）接收的参数。</div><div>因此，在上面的代码中，yield5语句将试块作为一个参数值5。</div><div>现在看看下面的语句：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;test &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;{|&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;You are in the block #{i}&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;}&lt;/span&gt;</code></pre></div></div><div>在这里，在变量i中的值为5。现在遵守以下 puts 语句：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;You are in the block #{i}&quot;&lt;/span&gt;</code></pre></div></div><div>puts 语句的输出是：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;typ&quot;&gt;You&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; are in the block &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;5&lt;/span&gt;</code></pre></div></div><div>如果想超过一个参数，然后yield语句就变成了：&nbsp;</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;yield a&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; b&lt;/span&gt;</code></pre></div></div><div>那么块是：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;pln&quot;&gt;test &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;{|&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; b&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; statement&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;}&lt;/span&gt;</code></pre></div></div><div>这些参数将用逗号隔开。</div><div><strong>块和方法:</strong></div><div>我们已经看到了如何将一个块和方法关联。通常调用块从块具有相同名称的方法，通过使用yield语句。因此，编写：</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;def test&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp; yield&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Hello world&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;}&lt;/span&gt;</code></pre></div></div><div>这个例子是最简单的方式来实现一个块。调用块 test 使用yield语句。</div><div>但是，如果最后一个参数的方法前面加上＆，那么可以通过一个块这种方法，此块将被分配到最后一个参数。</div><div>&amp;#42和＆在参数列表中＆还在后面。</div><div><div><pre class="prettyprint linenums prettyprinted"><br><br>1.  <code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code><br>2.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>3.  <code>&lt;span class=&quot;pln&quot;&gt;def test&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&amp;amp;&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;block&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;</code><br>4.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; block&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;call&lt;/span&gt;</code><br>5.  <code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code><br>6.  <code>&lt;span class=&quot;pln&quot;&gt;test &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Hello World!&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;}&lt;/span&gt;</code><br>7.  <code>&lt;span class=&quot;typ&quot;&gt;This&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; will produce following result&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;:&lt;/span&gt;</code><br>8.  <code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code><br>9.  <code>&lt;span class=&quot;typ&quot;&gt;Hello&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;World&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;!&lt;/span&gt;</code></pre></div>

<h3 id="10-模块"><a href="#10-模块" class="headerlink" title="10.模块"></a>10.模块</h3><p></p></div></div></div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>
<ol>
<li><code>&lt;span class=&quot;pln&quot;&gt;module &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Identifier&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; statement1&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; statement2&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;...........&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></p></li></ol></pre></div><div>例子：</div></div><div><div>考虑以下模块写在support.rb文件。</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;pln&quot;&gt;module &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Week&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; FIRST_DAY &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Sunday&quot;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; def &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Week&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;weeks_in_month&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;You have four weeks in a month&quot;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; end&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; def &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Week&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;weeks_in_year&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;You have 52 weeks in a year&quot;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; end&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></p></li></pre></div></div><div>现在，可以在如下一类包括这个模块：</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;pln&quot;&gt;require &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;support&quot;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;kwd&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Decade&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;include &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Week&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; no_of_yrs&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;10&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; def no_of_months&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; puts &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Week&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;FIRST_DAY&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; number&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;&amp;#42&lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;12&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; puts number&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; end&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;end&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;d1&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Decade&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;new&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;puts &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Week&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;FIRST_DAY&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;typ&quot;&gt;Week&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;weeks_in_month&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;typ&quot;&gt;Week&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;weeks_in_year&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;d1&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;no_of_months&lt;/span&gt;</code></li></pre></div>

<h3 id="11-字符"><a href="#11-字符" class="headerlink" title="11.字符"></a>11.字符</h3><p></p></div></div><div>字符转义；</div><div>表达式替换：</div><div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>
<ol>
<li><code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; y&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; z &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;36&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;72&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;The value of x is #{ x }.&quot;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;The sum of x and y is #{ x + y }.&quot;&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;The average was #{ (x + y + z)/3 }.&quot;&lt;/span&gt;</code></p></li></ol></pre></div></div><div>这将产生以下结果：</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;typ&quot;&gt;The&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; value of x is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;12.&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;typ&quot;&gt;The&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; sum of x and y is &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;48.&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;typ&quot;&gt;The&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; average was &lt;/span&gt;&lt;span class=&quot;lit&quot;&gt;40.&lt;/span&gt;</code></p></li></pre></div><div>特殊字符：</div></div></div><div><div>一般分隔的字符串，可以创建字符串匹配任意分隔符，比如，</div><div>虽然包含在一对，如：., !, (, {, &lt;, 等，前面加上一个百分号(%). Q, q 和 x，</div><div>有特殊的含义一般可以分隔的字符串。</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;pun&quot;&gt;%{&lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Ruby&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; is fun&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.}&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp; equivalent to &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;Ruby is fun.&quot;&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;pun&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;Q&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Ruby&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; is fun&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; equivalent to &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot; Ruby is fun. &quot;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pun&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;Ruby&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; is fun&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.]&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp; equivalent to a single&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;quoted string&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pun&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;ls&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; equivalent to back tick command output &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;</code><span class="pln">ls</span><span class="pun"><code>&lt;/span&gt;</code></span></p></li></pre></div><div>字符解压：</div></div></div><div><div>试试下面的例子来解压缩各种数据。&nbsp;</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;str&quot;&gt;&quot;abc \0\0abc \0\0&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;unpack&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&#39;A6Z6&#39;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;#=&amp;gt; [&quot;abc&quot;, &quot;abc &quot;]&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;str&quot;&gt;&quot;abc \0\0&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;unpack&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&#39;a3a3&#39;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;#=&amp;gt; [&quot;abc&quot;, &quot; \000\000&quot;]&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;str&quot;&gt;&quot;abc \0abc \0&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;unpack&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&#39;Z&amp;#42Z&amp;#42&#39;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;#=&amp;gt; [&quot;abc &quot;, &quot;abc &quot;]&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;str&quot;&gt;&quot;aa&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;unpack&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&#39;b8B8&#39;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;#=&amp;gt; [&quot;10000110&quot;, &quot;01100001&quot;]&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;str&quot;&gt;&quot;aaa&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;unpack&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&#39;h2H2c&#39;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;#=&amp;gt; [&quot;16&quot;, &quot;61&quot;, 97]&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;str&quot;&gt;&quot;\xfe\xff\xfe\xff&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;unpack&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&#39;sS&#39;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;#=&amp;gt; [-2, 65534]&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;str&quot;&gt;&quot;now=20is&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;unpack&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&#39;M&amp;#42&#39;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;#=&amp;gt; [&quot;now is&quot;]&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;str&quot;&gt;&quot;whole&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;unpack&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&#39;xax2aX2aX1aX2a&#39;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp; &lt;/span&gt;&lt;span class=&quot;com&quot;&gt;#=&amp;gt; [&quot;h&quot;, &quot;e&quot;, &quot;l&quot;, &quot;l&quot;, &quot;o&quot;]&lt;/span&gt;</code></p></li></pre></div><div>字符内置方法:</div></div></div><div><div>我们需要有一个String对象实例调用一个String方法。以下的方法来创建String对象的一个实例：</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;kwd&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)]&lt;/span&gt;</code></p></li></pre></div></div><div>这将返回一个新的字符串对象，其中包含str的一个副本。现在使用str的对象，我们可以任何可用实例方法的。例如：</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;com&quot;&gt;#!/usr/bin/ruby&lt;/span&gt;</code></p>
</li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;myStr &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;typ&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kwd&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;THIS IS TEST&quot;&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;)&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;foo &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; myStr&lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt;downcase&lt;/span&gt;</code></li>
<li><code>&lt;span class=&quot;pln&quot;&gt;&amp;nbsp;&lt;/span&gt;</code></li>
<li><p><code>&lt;span class=&quot;pln&quot;&gt;puts &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&quot;#{foo}&quot;&lt;/span&gt;</code></p></li></pre></div></div></div><div>字符编码：</div><div><div>Ruby的默认字符集是ASCII码，字符可能会由单字节表示。</div><div>如果使用UTF-8或另一种现代的字符集，字符可能会以四个字节表示。</div><div>可以更改字符集使用$KCODE的在程序的开始行，像这样：</div><div><div><pre class="prettyprint linenums prettyprinted"><p></p>

<li><p><code>&lt;span class=&quot;pln&quot;&gt;$KCODE &lt;/span&gt;&lt;span class=&quot;pun&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;pln&quot;&gt; &lt;/span&gt;&lt;span class=&quot;str&quot;&gt;&#39;u&#39;&lt;/span&gt;</code></p></li></pre></div></div><div>以下是 $KCODE 可能的值：a[ASCII (same as none). This is the default.]、e[EUC.]、n[None (same as ASCII)]、u[UTF-8]</div></div><p></p>


<div><a href="http://www.wiz.cn/i/93198460" title="来自为知笔记(Wiz)" target="_blank" rel="noopener">来自为知笔记(Wiz)</a></div>
      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>本文作者：</strong>
    L.N.
  </li>
  <li class="post-copyright-link">
    <strong>本文链接：</strong>
    <a href="https://tycx2ry.github.io/2015/09/06/ruby-e5-85-a5-e9-97-a8-e5-ad-a6-e4-b9-a0/" title="ruby入门学习">https://tycx2ry.github.io/2015/09/06/ruby-e5-85-a5-e9-97-a8-e5-ad-a6-e4-b9-a0/</a>
  </li>
  <li class="post-copyright-license">
    <strong>版权声明： </strong>
    本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> 许可协议。转载请注明出处！
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2015/09/01/cfml-e4-b8-ad-e7-9a-84scope-injection/" rel="next" title="CFML中的Scope Injection">
                <i class="fa fa-chevron-left"></i> CFML中的Scope Injection
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2015/09/09/windows-10-dump-hash-and-plaintext-passwords/" rel="prev" title="windows 10 dump hash and plaintext passwords">
                windows 10 dump hash and plaintext passwords <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar_1.gif"
                alt="L.N." />
            
              <p class="site-author-name" itemprop="name">L.N.</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">166</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">分类</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">183</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-BEGIN-END-语法"><span class="nav-number">1.</span> <span class="nav-text">1.BEGIN/END 语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-注释语法"><span class="nav-number">2.</span> <span class="nav-text">2.注释语法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-变量"><span class="nav-number">3.</span> <span class="nav-text">3.变量</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-类"><span class="nav-number">4.</span> <span class="nav-text">4.类</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-数组"><span class="nav-number">5.</span> <span class="nav-text">5.数组</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#6-defined-操作符"><span class="nav-number">6.</span> <span class="nav-text">6.defined?操作符</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#7-逻辑结构"><span class="nav-number">7.</span> <span class="nav-text">7.逻辑结构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#8-函数"><span class="nav-number">8.</span> <span class="nav-text">8.函数</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#9-块"><span class="nav-number">9.</span> <span class="nav-text">9.块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#10-模块"><span class="nav-number">10.</span> <span class="nav-text">10.模块</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#11-字符"><span class="nav-number">11.</span> <span class="nav-text">11.字符</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2011 &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">L.N.</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  





  
  





  



  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/canvas_lines.min.js"></script>
  

  
  
    <script id="ribbon" type="text/javascript" size="300" alpha="0.6"  zIndex="-1" src="/lib/canvas-ribbon/canvas-ribbon.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
